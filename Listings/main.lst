C51 COMPILER V9.59.0.0   MAIN                                                              12/03/2018 21:36:17 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REG52.H>
   2          #include <stdio.h>
   3          #include <string.h>
   4          /*------------------------------------------------
   5          The following string is the stuff we're gonna
   6          send into the serial port.
   7          ------------------------------------------------*/
   8          unsigned char xdata serial_input_buffer [] =
   9          "This is a test to see if this data gets "
  10          "injected into the serial port.\r\n"
  11          "Have fun.\r\n"
  12          "\r\n\r\n";
  13          
  14          /*---------------------------------------------------------
  15          Timer 0 Overflow Interrupt
  16          ---------------------------------------------------------*/
  17          unsigned int T1_ISR_count = 2;
  18          void T1_ISR(void) interrupt 1 {
  19   1      T1_ISR_count++;
  20   1      TF1 = 0; // Reset the interrupt request
  21   1      }
  22          
  23          int i=0;
  24          int count =0;
  25          
  26          
  27          // Testing by use of word ".tie5Ronal"
  28          char key[11] = {'.', 't', 'i', 'e', '5', 'R', 'o', 'n', 'a', 'l', '\0'};
  29          char test[11] = {'1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '\0'};
  30          
  31          //float time_between_event_inMilliseconds[10] = {0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0};
  32          unsigned int time_btw_ms[10];
  33          
  34          void main (void) {
  35   1        /*Note : timer takes 277 micro seconds to overflow*/
  36   1        
  37   1        
  38   1        /*------------------------------------------------
  39   1          Setup the serial port for 2400 baud at 12MHz.
  40   1        ------------------------------------------------*/
  41   1        SCON = 0x50;    // SCON:  mode 1, 8-bit UART, enable receiver
  42   1        TMOD |= 0x20;   // TMOD:  timer 1, mode 1, 16-bit 
  43   1        TH1 = 0x00;     // TH1:   Seting timer value to 0
  44   1        TR1 = 1;        // TR1:   timer 1 run
  45   1        TI = 1;         // TI:    set TI to send first char of UART
  46   1        ET1 = 1;
  47   1        //EA = 1; 
  48   1        // Allocating space for the data to be saved
  49   1        //int r = 9;  // Number of observed calculation
  50   1        //int c = 2;  // Number of users
  51   1        //float *features = (float *)malloc(r* sizeof(float));
  52   1        
  53   1        
  54   1        
C51 COMPILER V9.59.0.0   MAIN                                                              12/03/2018 21:36:17 PAGE 2   

  55   1        while (1) {
  56   2          char x = _getkey();
  57   2          if (x == test[i]) {
  58   3            i++;
  59   3            /*while(INT0 == 1){
  60   3              if(TF1 == 1){
  61   3                printf("Letter number %d : %d\n" , i , time_btw_ms[i]);
  62   3                time_btw_ms[i] += 277;
  63   3                TF1 = 0;
  64   3              }*/
  65   3            while(!INT0);
  66   3            time_btw_ms[i] = 277 * T1_ISR_count;
  67   3            printf("Letter number %d : %d\n" , i , time_btw_ms[i]);     
  68   3            }
  69   2          
  70   2          
  71   2           else { 
  72   3            printf("Another Key Pressed\n");
  73   3            i = 0;
  74   3          }
  75   2          
  76   2          if (i == 10) {
  77   3            count++;
  78   3            printf("%d\n" , count);
  79   3          }
  80   2      
  81   2        }
  82   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    156    ----
   CONSTANT SIZE    =     48    ----
   XDATA SIZE       =     88    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     48       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
